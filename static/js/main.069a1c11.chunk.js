(this["webpackJsonphello-tiny-box"]=this["webpackJsonphello-tiny-box"]||[]).push([[0],{77:function(e,t,a){e.exports=a(87)},87:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),i=a(11),c=a.n(i),o=a(14),s=a(10),m=a(19),u=a(125),b=function(e){var t=e.id,a=e.label,n=e.value,i=e.setField,c=e.rangeParams,s=c.minVal,m=c.maxVal,b=c.stepVal,d=Object(r.useState)(""),x=Object(o.a)(d,2),y=x[0],f=x[1],h=Object(r.useRef)(null),p=function(e){var a=function(e,t,a){var n=a.minVal,r=a.maxVal,l=a.stepVal,i=t.current.validity;if(i.badInput)return{isValid:!1,message:"NaN"};if(i.rangeOverflow)return{isValid:!1,message:"max=".concat(r)};if(i.rangeUnderflow)return{isValid:!1,message:"min=".concat(n)};if(i.stepMismatch)return{isValid:!1,message:"step=".concat(l)};if(!t.current.checkValidity())return{isValid:!1,message:"Error"};var c=parseFloat(e);return isNaN(c)?{isValid:!1,message:"NAN"}:{isValid:!0,message:"",value:c}}(e,h,c),n=a.isValid,r=a.value,l=a.message;n&&i(t,r),f(l)};return l.a.createElement("div",{style:{margin:"5px"}},l.a.createElement(u.a,{id:t,label:a,value:n,inputRef:h,type:"number",inputProps:{min:s,max:m,step:b},error:""!==y,variant:"outlined",onChange:function(e){return p(e.target.value)},helperText:y}))},d=a(33),x=a(47),y=a(64),f=a(63),h=a(122),p=a(62),v=a(90),E=a(130),g=a(118),O=a(127),V=a(119),z=a(120),j=a(129),w=a(121),P=a(128),T=a(123),S=Object(p.a)({palette:{type:"dark"}}),_=function(e){var t=e.id,a=e.label,n=e.value,r=e.rangeParams,i=e.setField;return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{gutterBottom:!0},a),l.a.createElement(E.a,{value:"number"===typeof n?n:0,step:r.stepVal,min:r.minVal,max:r.maxVal,valueLabelDisplay:"on",onChange:function(e,a){return i(t,a)}}))},I=function(e){var t=e.title,a=e.children;return l.a.createElement(g.a,{variant:"outlined",style:{margin:"20px"}},l.a.createElement(O.a,{bgcolor:"#333333"},l.a.createElement(V.a,null,l.a.createElement(v.a,{variant:"h6",style:{marginBottom:"10px"},component:"h2"},t),a)))},C=function(e){var t=e.children;return l.a.createElement(z.a,{container:!0,spacing:1,style:{marginBottom:"10px"}},t.map((function(e){return l.a.createElement(z.a,{key:e.props.id,item:!0,sm:4},e)})))},N=function(e){var t=e.radioValue,a=e.onChange,n=e.option1Label,r=e.option2Label;return l.a.createElement(I,null,l.a.createElement(j.a,{name:"",value:t,onChange:function(e){return a(e.target.value)}},l.a.createElement(w.a,{value:"true",control:l.a.createElement(P.a,null),label:n}),l.a.createElement(w.a,{value:"false",control:l.a.createElement(P.a,null),label:r})))},k=function(e){Object(y.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return l.a.createElement(h.a,{theme:S},l.a.createElement(T.a,null),l.a.createElement(z.a,{container:!0,spacing:0},this.props.children))}}]),a}(l.a.Component);k.Side=function(e){var t=e.children;return l.a.createElement(z.a,{item:!0,xs:12,sm:12,md:4},t)},k.Main=function(e){var t=e.children;return l.a.createElement(z.a,{item:!0,xs:12,sm:12,md:8},l.a.createElement(g.a,{variant:"outlined",style:{height:"95vh",width:"95%",margin:"20px"}},l.a.createElement("div",{style:{width:"100%",height:"100vh"}},t)))};var A,M={rx:{rangeParams:{minVal:-90,maxVal:90,stepVal:.5},label:"rotX",id:"camera-view-rot-x"},ry:{rangeParams:{minVal:-90,maxVal:90,stepVal:.5},label:"rotY",id:"camera-view-rot-z"},rz:{rangeParams:{minVal:-90,maxVal:90,stepVal:.5},label:"rotZ",id:"camera-view-rot-y"},tx:{rangeParams:{minVal:-10,maxVal:10,stepVal:.1},label:"t.X",id:"camera-view-trans-x"},ty:{rangeParams:{minVal:-10,maxVal:10,stepVal:.1},label:"t.Y",id:"camera-view-trans-y"},tz:{rangeParams:{minVal:-10,maxVal:10,stepVal:.1},label:"t.Z",id:"camera-view-trans-z"},zoom:{rangeParams:{minVal:0,maxVal:10,stepVal:.1},label:"zoom",id:"camera-view-zoom"}},R={INIT_STATE:{rx:0,ry:0,rz:0,tx:0,ty:0,tz:0,zoom:1},STATE_PROPS:M,ID_TO_KEY_MAP:(n={},Object(s.a)(n,M.rx.id,"rx"),Object(s.a)(n,M.ry.id,"ry"),Object(s.a)(n,M.rz.id,"rz"),Object(s.a)(n,M.tx.id,"tx"),Object(s.a)(n,M.ty.id,"ty"),Object(s.a)(n,M.tz.id,"tz"),Object(s.a)(n,M.zoom.id,"zoom"),n)},D={rx:{rangeParams:{minVal:-180,maxVal:180,stepVal:.5},label:"rotX",id:"cube-state-rot-x"},ry:{rangeParams:{minVal:-180,maxVal:180,stepVal:.5},label:"rotY",id:"cube-state-rot-z"},rz:{rangeParams:{minVal:-180,maxVal:180,stepVal:.5},label:"rotZ",id:"cube-state-rot-y"},tx:{rangeParams:{minVal:-100,maxVal:100,stepVal:.1},label:"t.X",id:"cube-state-trans-x"},ty:{rangeParams:{minVal:-100,maxVal:100,stepVal:.1},label:"t.Y",id:"cube-state-trans-y"},tz:{rangeParams:{minVal:-100,maxVal:100,stepVal:.1},label:"t.Z",id:"cube-state-trans-z"},sx:{rangeParams:{minVal:0,maxVal:10,stepVal:.1},label:"s.X",id:"cube-state-scale-x"},sy:{rangeParams:{minVal:0,maxVal:10,stepVal:.1},label:"s.Y",id:"cube-state-scale-y"},sz:{rangeParams:{minVal:0,maxVal:10,stepVal:.1},label:"s.Z",id:"cube-state-scale-z"},color:{label:"color",id:"cube-color"}},Y={INIT_STATE:{rx:0,ry:0,rz:0,tx:0,ty:0,tz:0,sx:1,sy:1,sz:1,color:0},STATE_PROPS:D,ID_TO_KEY_MAP:(A={},Object(s.a)(A,D.rx.id,"rx"),Object(s.a)(A,D.ry.id,"ry"),Object(s.a)(A,D.rz.id,"rz"),Object(s.a)(A,D.tx.id,"tx"),Object(s.a)(A,D.ty.id,"ty"),Object(s.a)(A,D.tz.id,"tz"),Object(s.a)(A,D.sx.id,"sx"),Object(s.a)(A,D.sy.id,"sy"),Object(s.a)(A,D.sz.id,"sz"),Object(s.a)(A,D.color.id,"color"),A)},B=a(60),F=a(50),L=function(e){return e*Math.PI/180},U=function(e){return[Math.sin(L(e)),Math.cos(L(e))]},X=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},Z=function(e,t){return new q(t.x-e.x,t.y-e.y,t.z-e.z)},K=function(e,t,a){var n,r=function(e,t){var a=e.y*t.z-e.z*t.y,n=e.z*t.x-e.x*t.z,r=e.x*t.y-e.y*t.x;return new q(a,n,r)}(Z(t,e),Z(t,a));return function(e,t){return new q(t*e.x,t*e.y,t*e.z)}(r,1/(n=r,Math.sqrt(X(n,n))))},W=function(e,t){for(var a=function(e){var t=[e,e,e,e];return[t.slice(),t.slice(),t.slice(),t.slice()]}(null),n=0;n<4;n++)for(var r=0;r<4;r++)a[n][r]=e[n][0]*t[0][r]+e[n][1]*t[1][r]+e[n][2]*t[2][r]+e[n][3]*t[3][r];return a};var J=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=U(e),l=Object(o.a)(r,2),i=l[0],c=l[1];return[[1,0,0,t],[0,c,-i,a],[0,i,c,n],[0,0,0,1]]}(e.x),a=function(e){var t=U(e),a=Object(o.a)(t,2),n=a[0],r=a[1];return[[r,0,n,0],[0,1,0,0],[-n,0,r,0],[0,0,0,1]]}(e.y),n=function(e){var t=U(e),a=Object(o.a)(t,2),n=a[0],r=a[1];return[[r,-n,0,0],[n,r,0,0],[0,0,1,0],[0,0,0,1]]}(e.z),r=W(t,a);return W(r,n)},q=function(){function e(t,a,n,r){Object(d.a)(this,e),this.x=t,this.y=a,this.z=n,this.name=r}return Object(x.a)(e,[{key:"getTransformedPoint",value:function(t){var a=t.slice(0,3),n=Object(o.a)(a,3),r=n[0],l=n[1],i=n[2],c=Object(o.a)(r,4),s=c[0],m=c[1],u=c[2],b=c[3],d=Object(o.a)(l,4),x=d[0],y=d[1],f=d[2],h=d[3],p=Object(o.a)(i,4),v=p[0],E=p[1],g=p[2],O=p[3];return new e(this.x*s+this.y*m+this.z*u+b,this.x*x+this.y*y+this.z*f+h,this.x*v+this.y*E+this.z*g+O,this.name)}}]),e}(),G=function(e){return[[1,0,0,e.x],[0,1,0,e.y],[0,0,1,e.z],[0,0,0,1]]},$=function(e){return[[e.x,0,0,0],[0,e.y,0,0],[0,0,e.z,0],[0,0,0,1]]},H=function e(){Object(d.a)(this,e),this.CENTER=new q(0,0,0,"cube-center"),this.POINTS=[new q(-1,1,1,"front-top-left"),new q(1,1,1,"front-top-right"),new q(-1,-1,1,"front-bottom-left"),new q(1,-1,1,"front-bottom-right"),new q(-1,1,-1,"back-top-left"),new q(1,1,-1,"back-top-right"),new q(-1,-1,-1,"back-bottom-left"),new q(1,-1,-1,"back-bottom-right")]},Q=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new q(0,0,0),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new q(1,1,1),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new q(0,0,0);Object(d.a)(this,e),this.UNIT_CUBE=new H;var r=J(t),l=a,i=n;this.wrtWorldMatrix=W(G(i),W($(l),r)),this.points=this.UNIT_CUBE.POINTS},ee=function(e,t,a){var n=[],r=[];return e.points.forEach((function(e){var l=e.getTransformedPoint(t),i=function(e,t){return new q(e.x/e.z*t,e.y/e.z*t,t,e.name)}(l,a);r.push(l),n.push(i)})),[r,n]},te=function(e,t){var a=300*t.zoom,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(0,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q(0,0,0),a=J(t),n=e;return[[a[0][0],a[1][0],a[2][0],-n.x],[a[0][1],a[1][1],a[2][1],-n.y],[a[0][2],a[1][2],a[2][2],-n.z],[0,0,0,1]]}(new q(t.tx,t.ty,t.tz+5),new q(t.rx,t.ry,t.rz)),r=new q(e.rx,e.ry,e.rz),l=new q(e.tx,e.ty,e.tz),i=new q(e.sx,e.sy,e.sz),c=new Q(r,i,l),s=W(n,c.wrtWorldMatrix),m=ee(c,s,a),u=Object(o.a)(m,2),b=u[0],d=u[1],x=ne(b);return re(d,x)},ae=[[0,1,3,2],[1,5,7,3],[5,4,6,7],[4,0,2,6],[4,5,1,0],[2,3,7,6]],ne=function(e){var t=e;return ae.map((function(e){var a=Object(o.a)(e,3),n=a[0],r=a[1],l=a[2],i=K(t[n],t[r],t[l]),c=new q(-t[r].x,-t[r].y,-t[r].z);return X(i,c)>0}))},re=function(e,t){var a=e,n=["#32ff7e","#e056fd","#E91E63","#fa8231","#fff200","#ff3838"],r=[.75,.75,.75,.75,.75,.75],l=[];return t.forEach((function(e,t){var i=Object(o.a)(ae[t],4),c=i[0],s=i[1],m=i[2],u=i[3],b={x:[a[c].x,a[s].x,a[m].x,a[u].x],y:[a[c].y,a[s].y,a[m].y,a[u].y],borderColor:"#0652DD",borderOpacity:1,fillColor:n[t],fillOpacity:r[t],borderSize:8,type:"polygon",id:"plane-".concat(t)},d={x:[a[c].x,a[s].x,a[m].x,a[u].x],y:[a[c].y,a[s].y,a[m].y,a[u].y],color:"#0652DD",opacity:1,size:15,type:"points",id:"points-".concat(t)};l=e?[].concat(Object(F.a)(l),[b,d]):[b,d].concat(Object(F.a)(l))})),{data:l,container:{color:"#333333",opacity:1,xRange:600,yRange:600}}},le=a(124),ie=a(61),ce=a.n(ie),oe=function(e,t,a){return Object.keys(t).reduce((function(n,r){return Object(m.a)(Object(m.a)({},n),{},Object(s.a)({},r,Object(m.a)(Object(m.a)({},t[r]),{},{value:e[r],setField:a})))}),{})},se=function(e){var t=e.camProps;return l.a.createElement(I,{title:"Camera View Control"},l.a.createElement(_,t.rx),l.a.createElement(_,t.ry),l.a.createElement(_,t.rz),l.a.createElement(_,t.tx),l.a.createElement(_,t.ty),l.a.createElement(_,t.tz),l.a.createElement(b,t.zoom))},me=function(e){var t=e.boxProps;return l.a.createElement(I,{title:"Cube View Control"},l.a.createElement(_,t.rx),l.a.createElement(_,t.ry),l.a.createElement(_,t.rz),l.a.createElement(C,null,l.a.createElement(b,t.tx),l.a.createElement(b,t.ty),l.a.createElement(b,t.tz)),l.a.createElement(C,null,l.a.createElement(b,t.sx),l.a.createElement(b,t.sy),l.a.createElement(b,t.sz)))},ue=function(){var e=Object(r.useState)(R.INIT_STATE),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(Y.INIT_STATE),c=Object(o.a)(i,2),u=c[0],b=c[1],d=l.a.useState("true"),x=Object(o.a)(d,2),y=x[0],f=x[1],h="true"===y,p=oe(a,R.STATE_PROPS,(function(e,t){n(Object(m.a)(Object(m.a)({},a),{},Object(s.a)({},R.ID_TO_KEY_MAP[e],t)))})),v=oe(u,Y.STATE_PROPS,(function(e,t){b(Object(m.a)(Object(m.a)({},u),{},Object(s.a)({},Y.ID_TO_KEY_MAP[e],t)))})),E=te(u,a);return l.a.createElement(k,null,l.a.createElement(k.Main,null,l.a.createElement(B.a,E)),l.a.createElement(k.Side,null,l.a.createElement(N,{value:y,onChange:f,option1Label:"Cube Control",option2Label:"Camera View Control"}),l.a.createElement("div",{hidden:h},l.a.createElement(se,{camProps:p})),l.a.createElement("div",{hidden:!h},l.a.createElement(me,{boxProps:v})),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("a",{href:"https://github.com/mithi/hello-tiny-box/"},l.a.createElement(le.a,{variant:"outlined",style:{margin:"20px 0px 10px 0px"},startIcon:l.a.createElement(ce.a,null)},"Github Repository")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.069a1c11.chunk.js.map